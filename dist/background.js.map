{
  "version": 3,
  "sources": ["../src/background.ts"],
  "sourcesContent": ["import { UnipaPage } from \"./types/UnipaPage\";\n\nchrome.tabs.onUpdated.addListener(async (tabId, changeInfo, tab) => {\n\n  if (changeInfo.status !== 'complete') return;\n  if (!tab.url?.startsWith('https://portal.sa.dendai.ac.jp/')) return;\n\n  const test = await chrome.scripting.executeScript({\n    files: ['./scripts/getPage.js'],\n    target: {\n      tabId,\n    }\n  });\n\n  if (test.length !== 1 && !test[0].result) {\n    console.error('Invalid getPage callback');\n    return;\n  }\n\n  // TODO: validate\n\n  const page = test[0].result as UnipaPage | null;\n\n  console.log(page);\n\n  // TODO: global inject\n\n  if (page) {\n    // Inject scripts\n    if (page.scripts) {\n      chrome.scripting.executeScript({\n        target: {\n          tabId,\n        },\n        files: page.scripts,\n      });\n      console.log('injected scripts', page.scripts);\n    }\n\n    // Inject styles\n    if (page.styles) {\n      chrome.scripting.insertCSS({\n        target: {\n          tabId,\n        },\n        files: page.styles,\n      });\n      console.log('injected styles', page.styles);\n    }\n  }\n\n\n})\n\nchrome.action.onClicked.addListener(async (tab) => {\n  chrome.notifications.create({\n    type: 'basic',\n    iconUrl: './images/kari.png',\n    title: 'Thank you for using extension!',\n    message: 'Nothing here.',\n    priority: 1\n  })\n});"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAEA,OAAO,KAAK,UAAU,YAAY,CAAO,OAAO,YAAY,QAAQ;AAFpE;AAIE,MAAI,WAAW,WAAW;AAAY;AACtC,MAAI,CAAC,WAAI,QAAJ,mBAAS,WAAW;AAAoC;AAE7D,QAAM,OAAO,MAAM,OAAO,UAAU,cAAc;AAAA,IAChD,OAAO,CAAC,sBAAsB;AAAA,IAC9B,QAAQ;AAAA,MACN;AAAA,IACF;AAAA,EACF,CAAC;AAED,MAAI,KAAK,WAAW,KAAK,CAAC,KAAK,GAAG,QAAQ;AACxC,YAAQ,MAAM,0BAA0B;AACxC;AAAA,EACF;AAIA,QAAM,OAAO,KAAK,GAAG;AAErB,UAAQ,IAAI,IAAI;AAIhB,MAAI,MAAM;AAER,QAAI,KAAK,SAAS;AAChB,aAAO,UAAU,cAAc;AAAA,QAC7B,QAAQ;AAAA,UACN;AAAA,QACF;AAAA,QACA,OAAO,KAAK;AAAA,MACd,CAAC;AACD,cAAQ,IAAI,oBAAoB,KAAK,OAAO;AAAA,IAC9C;AAGA,QAAI,KAAK,QAAQ;AACf,aAAO,UAAU,UAAU;AAAA,QACzB,QAAQ;AAAA,UACN;AAAA,QACF;AAAA,QACA,OAAO,KAAK;AAAA,MACd,CAAC;AACD,cAAQ,IAAI,mBAAmB,KAAK,MAAM;AAAA,IAC5C;AAAA,EACF;AAGF,EAAC;AAED,OAAO,OAAO,UAAU,YAAY,CAAO,QAAQ;AACjD,SAAO,cAAc,OAAO;AAAA,IAC1B,MAAM;AAAA,IACN,SAAS;AAAA,IACT,OAAO;AAAA,IACP,SAAS;AAAA,IACT,UAAU;AAAA,EACZ,CAAC;AACH,EAAC;",
  "names": []
}
